---
description: Git commit patterns for the project
globs: "**/*"
alwaysApply: true
---

# Git and Commit Rules

## Commit Format (Conventional Commits)

**ALWAYS** use Conventional Commits format to facilitate history, automatic changelog and tool integration.

### Structure

```
<type>(<scope>): <short description>

[optional body]

[optional footer]
```

### Commit Types

- **feat**: New feature/functionality
- **fix**: Bug fix
- **refactor**: Refactoring (no behavior change)
- **docs**: Documentation only
- **style**: Formatting, spaces, etc (doesn't affect code)
- **test**: Test addition or fix
- **chore**: Maintenance tasks (build, dependencies, etc)
- **perf**: Performance improvement
- **ci**: CI/CD changes

### Scope (Optional but Recommended)

Use the affected module/area:

- `Characters` - Characters and related components
- `Components` - Generic components
- `Data` - Data Assets and Data Tables
- `Utils` - Utilities and helpers
- `Gameplay` - Game mechanics
- `Architecture` - Architectural changes
- `Docs` - Documentation
- `Build` - Build system

### Correct Examples

```bash
feat(Characters): add CharacterTotalLvl to Data Asset
fix(Components): fix CharacterDataComponent search when Owner is nullptr
refactor(Utils): move FindCharacterDataComponent to ComponentHelpers
docs(Architecture): add Mermaid diagrams to ARCHITECTURE.md
test(Utils): add tests for ComponentHelpers::FindCharacterDataComponent
perf(Characters): optimize final attributes calculation
chore(Build): update project dependencies
ci(GitHub): add automatic build workflow
```

### Incorrect Examples

```bash
❌ "fix"
❌ "update"
❌ "changes"
❌ "fixed the bug"
❌ "feat: new thing"
❌ "fix: component bug"
```

## Message Rules

### Short Description

- **Maximum 50 characters** (ideal)
- **First letter lowercase** (except proper nouns)
- **No period**
- **Imperative verb**: "add", "fix", "remove" (not "added", "fixed")

### Body (Optional)

- Use to explain **what** and **why** (not **how**)
- Separate from title with blank line
- Maximum 72 characters per line

### Footer (Optional)

- Use to reference issues: `Closes #123`
- Use for breaking changes: `BREAKING CHANGE: description`

## Complete Examples

### Simple Commit

```bash
feat(Characters): add CharacterTotalLvl field
```

### Commit with Body

```bash
refactor(Utils): move FindCharacterDataComponent to helper

Move component search function to ComponentHelpers namespace
following Clean Code principles. Function is now reusable and
testable in isolation.

Before: Private function coupled to CharacterSheetComponent
After: Public function in ComponentHelpers namespace
```

### Commit with Breaking Change

```bash
refactor(Characters): rename CharacterSheetComponent to CharacterBuilderComponent

BREAKING CHANGE: CharacterSheetComponent was renamed to CharacterBuilderComponent.
Update all references in code and Blueprints.
```

## Pre-Commit Checklist

- [ ] Message follows Conventional Commits format?
- [ ] Scope is correct?
- [ ] Description is clear and concise?
- [ ] Code compiles without errors?
- [ ] Tests pass (if any)?
- [ ] Documentation updated (if necessary)?

## Benefits

- ✅ Clear and navigable history
- ✅ Automatic changelog generation
- ✅ Facilitates selective rollback
- ✅ Improves code review
- ✅ Tool integration (semantic-release, etc)
- ✅ Easy filtering of commits by type/scope
