---
description: Delegates and events in Unreal Engine
globs: ["*.cpp", "*.h"]
alwaysApply: false
---

# Delegates and Events - Unreal Engine 5.7

## Delegate Types
- **DECLARE_DELEGATE** - Simple delegate without parameters
- **DECLARE_DELEGATE_OneParam** - Delegate with one parameter
- **DECLARE_DELEGATE_Multicast** - Multicast delegate (multiple listeners)
- **DECLARE_DYNAMIC_DELEGATE** - Delegate exposed to Blueprint
- **DECLARE_DYNAMIC_MULTICAST_DELEGATE** - Multicast exposed to Blueprint

## Delegate Declaration
```cpp
// In header
DECLARE_DYNAMIC_MULTICAST_DELEGATE_OneParam(FOnHealthChanged, float, NewHealth);

UCLASS()
class MYPROJECT2_API AMyActor : public AActor
{
    GENERATED_BODY()

public:
    UPROPERTY(BlueprintAssignable, Category = "Events")
    FOnHealthChanged OnHealthChanged;
};
```

## Using Delegates
```cpp
// Broadcast event
OnHealthChanged.Broadcast(NewHealth);

// Binding (C++)
OnHealthChanged.AddDynamic(this, &AMyActor::HandleHealthChanged);

// Unbinding
OnHealthChanged.RemoveDynamic(this, &AMyActor::HandleHealthChanged);
```

## Blueprint Events
- Use `BlueprintAssignable` for events that can be assigned in Blueprint
- Use `BlueprintCallable` for functions that trigger events
- Dynamic events are slower but work with Blueprints

## Best Practices
- Use delegates to decouple systems
- Prefer multicast delegates for events that multiple systems need to listen to
- **ALWAYS** unbind delegates when objects are destroyed
- Use dynamic delegates only when necessary to expose to Blueprint
- Static delegates are faster than dynamic ones
