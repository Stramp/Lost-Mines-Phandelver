---
description: Code patterns and formatting for Unreal Engine
globs: ["*.cpp", "*.h", "*.cs"]
alwaysApply: false
---

# Code Standards - Unreal Engine 5.7

## Formatting
- **ALWAYS** use tab indentation (Unreal standard, not spaces)
- Maximum 120 characters per line
- Spaces around operators: `if (bIsActive && Health > 0)`
- Braces on same line for functions and classes:
  ```cpp
  void MyFunction()
  {
      // code
  }
  ```
- Use spaces after commas: `TArray<int32> Array = {1, 2, 3};`

## Comments
- Use `//` for single-line comments
- Use `/* */` for multi-line comments
- **ALWAYS** document public functions with descriptive comments
- Explain "why" not "what" in complex comments
- Use `// TODO:` for future tasks
- Use `// FIXME:` for known bugs

## Code Organization
- Declare variables at the beginning of scope
- Group related functions
- Keep functions focused and small (ideally < 50 lines)
- **ALWAYS** use `const` when appropriate:
  - `const` in parameters that are not modified
  - `const` in methods that don't modify the object
  - `const` in variables that don't change

## Error Handling and Assertions
- **check()** - Assertion that breaks the game in debug (removed in Shipping)
  ```cpp
  check(PlayerController != nullptr);
  ```
- **ensure()** - Check that logs but doesn't break the game
  ```cpp
  ensureMsgf(Health > 0, TEXT("Health should be positive"));
  ```
- **verify()** - Similar to check but executes in all builds
- **ensureAlways()** - Similar to ensure but executes in all builds
- Return boolean values or error codes when appropriate
- **ALWAYS** log errors using `UE_LOG()` with appropriate levels:
  ```cpp
  UE_LOG(LogTemp, Error, TEXT("Failed to initialize: %s"), *ErrorMessage);
  UE_LOG(LogTemp, Warning, TEXT("Health is low: %f"), Health);
  UE_LOG(LogTemp, Log, TEXT("Player spawned"));
  ```

## Log Levels
- `Error` - Critical errors that prevent functioning
- `Warning` - Warnings about potential problems
- `Log` - General information
- `Verbose` - Detailed information (disabled by default)
- `VeryVerbose` - Very detailed information (disabled by default)

## Copyright Header
- **ALWAYS** include copyright header at the top of files:
  ```cpp
  // Copyright Epic Games, Inc. All Rights Reserved.
  // or
  // Copyright [Your Name/Company], All Rights Reserved.
  ```
