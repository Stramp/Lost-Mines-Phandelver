---
description: Rules and configuration for CI/CD in the project
globs: "**/*"
alwaysApply: true
---

# CI/CD Rules (Continuous Integration/Continuous Deployment)

## Concept

CI/CD automates build, test and deploy processes, ensuring code always compiles and works correctly.

## Recommended Pipeline

### 1. Build (Compilation)

**ALWAYS** compile the project on each commit/pull request.

**Objective:** Detect compilation errors immediately.

### 2. Tests

**ALWAYS** run tests automatically after successful build.

**Objective:** Detect regressions and bugs.

### 3. Code Validation

**ALWAYS** validate:
- Formatting (clang-format)
- Linting (clang-tidy, if configured)
- Static analysis (if configured)

**Objective:** Maintain code quality and consistency.

### 4. Documentation Validation

**ALWAYS** verify:
- README.md exists and is updated
- ARCHITECTURE.md is updated (if there are architectural changes)
- Comments in new code

**Objective:** Ensure documentation is always updated.

## GitHub Actions Configuration

### Example: `.github/workflows/build.yml`

```yaml
name: Build and Test

on:
  push:
    branches: [ master, main, develop ]
  pull_request:
    branches: [ master, main, develop ]

jobs:
  build:
    runs-on: windows-latest

    steps:
    - uses: actions/checkout@v3

    - name: Setup Unreal Engine
      # Configure Unreal Engine path

    - name: Generate Project Files
      run: |
        "C:\Program Files\Epic Games\UE_5.7\Engine\Build\BatchFiles\RunUBT.bat" -projectfiles -project="${{ github.workspace }}\MyProject2.uproject" -game -engine

    - name: Build Project
      run: |
        "C:\Program Files\Epic Games\UE_5.7\Engine\Build\BatchFiles\Build.bat" MyProject2Editor Win64 Development "${{ github.workspace }}\MyProject2.uproject" -waitmutex

    - name: Run Tests
      run: |
        # Run automated tests
        # (when implemented)

    - name: Validate Code Format
      run: |
        # Check formatting with clang-format
        # (when configured)
```

## CI/CD Rules

### 1. Build Must Always Pass

- **NEVER** commit code that doesn't compile
- If build fails, fix before continuing
- Use CI to validate before merge

### 2. Tests Must Pass

- All tests must pass
- If test fails, fix code or test
- Don't disable tests to make build pass

### 3. Validations Must Pass

- Code must follow formatting
- Linting must not have critical errors
- Documentation must be updated

### 4. Notifications

- Configure notifications when build fails
- Use badges in README to show status
- Notify in PRs when build fails

## Badges in README

Add badges to show status:

```markdown
![Build Status](https://github.com/your-user/MyProject2/workflows/Build%20and%20Test/badge.svg)
![Tests](https://github.com/your-user/MyProject2/workflows/Tests/badge.svg)
```

## CI/CD Checklist

Before configuring CI/CD:

- [ ] Build works locally?
- [ ] Tests exist and pass?
- [ ] Formatting is configured?
- [ ] Documentation is updated?
- [ ] Notifications are configured?

## Benefits

- ✅ Detects problems immediately
- ✅ Ensures code always compiles
- ✅ Prevents bugs from reaching production
- ✅ Facilitates code review (PRs with green build)
- ✅ Automates repetitive processes
- ✅ Improves overall project quality

## When to Implement

**Implement CI/CD when:**
- Project has multiple developers
- Frequent commits
- Want to ensure automatic quality
- Want to automate deploy

**Can postpone if:**
- Solo project and very initial
- Rare commits
- Don't have tests yet

## Next Steps

1. Configure GitHub Actions (or similar)
2. Add automatic build
3. Add tests when implementing
4. Configure code validations
5. Add badges to README
