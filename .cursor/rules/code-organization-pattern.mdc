---
description: Padr√£o de organiza√ß√£o de c√≥digo com regions, coment√°rios de se√ß√£o e estrutura hier√°rquica
alwaysApply: true
---

# Code Organization Pattern

## üéØ Objetivo

**ALWAYS** organizar arquivos C++ seguindo um padr√£o consistente com:
- Coment√°rios de se√ß√£o claros
- Regions para agrupar c√≥digo relacionado
- Includes agrupados por categoria
- Organiza√ß√£o l√≥gica por responsabilidade
- Coment√°rios explicativos em fun√ß√µes importantes

## üìã Estrutura Obrigat√≥ria

### 1. Header do Arquivo

**ALWAYS** come√ßar com:

```cpp
// Copyright Epic Games, Inc. All Rights Reserved.

#pragma once

// ============================================================================
// Includes
// ============================================================================
#pragma region Includes

// Project includes - [categoria]
#include "..."

// Engine includes
#include "..."

#pragma endregion Includes
```

### 2. Organiza√ß√£o com Regions

**ALWAYS** usar `#pragma region` para agrupar c√≥digo relacionado:

```cpp
// ============================================================================
// [Nome da Se√ß√£o]
// ============================================================================
#pragma region [Nome da Se√ß√£o]

// C√≥digo relacionado aqui...

#pragma endregion [Nome da Se√ß√£o]
```

### 3. Coment√°rios de Se√ß√£o

**ALWAYS** usar coment√°rios de se√ß√£o com separadores:

```cpp
// ============================================================================
// Nome da Se√ß√£o
// ============================================================================
```

**Padr√£o de separadores:**
- Usar `===` para criar linha visual
- Espa√ßamento consistente
- T√≠tulos em PascalCase ou descritivos

## üìÅ Organiza√ß√£o por Tipo de Arquivo

### Arquivos .cpp (Implementation)

**Estrutura obrigat√≥ria:**

```cpp
// Copyright Epic Games, Inc. All Rights Reserved.

// ============================================================================
// Includes
// ============================================================================
#pragma region Includes

#include "[Header].h"

// Project includes - [categoria 1]
#include "..."

// Project includes - [categoria 2]
#include "..."

// Engine includes
#include "..."

#if WITH_EDITOR
#include "..."
#endif

#pragma endregion Includes

// ============================================================================
// [Se√ß√£o Principal 1]
// ============================================================================
#pragma region [Se√ß√£o Principal 1]

/**
 * Coment√°rio explicativo da fun√ß√£o.
 * Explica o "porqu√™" e o "como" quando necess√°rio.
 */
void Function1()
{
    // Implementa√ß√£o
}

#pragma endregion [Se√ß√£o Principal 1]

// ============================================================================
// [Se√ß√£o Principal 2]
// ============================================================================
#pragma region [Se√ß√£o Principal 2]

// Mais c√≥digo...

#pragma endregion [Se√ß√£o Principal 2]
```

**Categorias de Includes:**
- `Project includes - Data Asset`
- `Project includes - Components`
- `Project includes - Helpers`
- `Project includes - Utils`
- `Project includes - Data Tables`
- `Project includes - CreateSheet`
- `Engine includes`

### Arquivos .h (Header)

**Estrutura obrigat√≥ria:**

```cpp
// Copyright Epic Games, Inc. All Rights Reserved.

#pragma once

// ============================================================================
// Includes
// ============================================================================
#pragma region Includes

#include "CoreMinimal.h"
#include "Engine/..."
#include "[File].generated.h"

#pragma endregion Includes

// ============================================================================
// [Se√ß√£o de Structs/Classes]
// ============================================================================
#pragma region [Se√ß√£o de Structs/Classes]

/**
 * Coment√°rio explicativo da struct/classe.
 */
USTRUCT(BlueprintType)
struct MYPROJECT2_API FMyStruct
{
    GENERATED_BODY()

    // Propriedades...
};

#pragma endregion [Se√ß√£o de Structs/Classes]
```

## üîç Exemplos de Se√ß√µes Comuns

### Para Handlers/Updaters/Validators

```cpp
// ============================================================================
// Property Change Handlers
// ============================================================================
#pragma region Property Change Handlers

// Handlers aqui...

#pragma endregion Property Change Handlers

// ============================================================================
// Wrapper Functions
// ============================================================================
#pragma region Wrapper Functions

// Wrappers aqui...

#pragma endregion Wrapper Functions
```

### Para Data Tables

```cpp
// ============================================================================
// Skills Struct
// ============================================================================
#pragma region Skills Struct

// Struct FSkills...

#pragma endregion Skills Struct

// ============================================================================
// Proficiencies Struct
// ============================================================================
#pragma region Proficiencies Struct

// Struct FProficienciesEntry...

#pragma endregion Proficiencies Struct
```

### Para Helpers

```cpp
// ============================================================================
// Variant Human Helpers
// ============================================================================
#pragma region Variant Human Helpers

// Fun√ß√µes relacionadas a Variant Human...

#pragma endregion Variant Human Helpers

// ============================================================================
// Ability Scores Helpers
// ============================================================================
#pragma region Ability Scores Helpers

// Fun√ß√µes relacionadas a Ability Scores...

#pragma endregion Ability Scores Helpers
```

## ‚úÖ Regras de Organiza√ß√£o

### 1. Hierarquia L√≥gica

**ALWAYS** organizar por hierarquia l√≥gica:
- Structs auxiliares primeiro
- Structs principais depois
- Classes/Structs de DataTable por √∫ltimo

**Exemplo:**
```
FSkills ‚Üí FProficienciesEntry ‚Üí FProgressEntry ‚Üí FClassData ‚Üí FClassDataRow
```

### 2. Agrupamento por Responsabilidade

**ALWAYS** agrupar c√≥digo por responsabilidade:
- Handlers juntos
- Validators juntos
- Updaters juntos
- Helpers por categoria

### 3. Coment√°rios Explicativos

**ALWAYS** adicionar coment√°rios explicativos em:
- Fun√ß√µes p√∫blicas importantes
- Structs/Classes principais
- L√≥gica complexa
- Decis√µes de design importantes

**Formato:**
```cpp
/**
 * Descri√ß√£o do que a fun√ß√£o faz.
 * Explica o "porqu√™" quando relevante.
 *
 * @param Param1 Descri√ß√£o do par√¢metro
 * @return Descri√ß√£o do retorno
 */
```

### 4. Includes Agrupados

**ALWAYS** agrupar includes por categoria:
1. Header correspondente (se .cpp)
2. Project includes (por categoria)
3. Engine includes
4. Editor includes (dentro de `#if WITH_EDITOR`)

## üö´ O Que N√ÉO Fazer

- ‚ùå **NUNCA** misturar includes sem organiza√ß√£o
- ‚ùå **NUNCA** criar regions sem coment√°rios de se√ß√£o
- ‚ùå **NUNCA** pular a organiza√ß√£o de includes
- ‚ùå **NUNCA** criar se√ß√µes muito gen√©ricas ("Misc", "Other")
- ‚ùå **NUNCA** usar regions sem fechar com `#pragma endregion`

## üìù Checklist de Organiza√ß√£o

Antes de considerar um arquivo "organizado":

- [ ] Copyright no topo
- [ ] Includes agrupados por categoria em region
- [ ] Coment√°rios de se√ß√£o com `===` antes de cada region
- [ ] Regions nomeados de forma descritiva
- [ ] C√≥digo agrupado por responsabilidade
- [ ] Fun√ß√µes importantes t√™m coment√°rios explicativos
- [ ] Hierarquia l√≥gica respeitada
- [ ] Todos os regions fechados corretamente

## üé® Benef√≠cios

- ‚úÖ Navega√ß√£o mais f√°cil no editor (regions colaps√°veis)
- ‚úÖ C√≥digo mais leg√≠vel e organizado
- ‚úÖ Manuten√ß√£o facilitada
- ‚úÖ Padr√£o consistente em todo o projeto
- ‚úÖ Onboarding mais r√°pido para novos desenvolvedores

## üìö Exemplos de Uso

### Exemplo 1: Handler File

```cpp
// ============================================================================
// Includes
// ============================================================================
#pragma region Includes

#include "CharacterSheetDataAssetHandlers.h"
#include "Characters/Data/CharacterSheetDataAsset.h"
// ... mais includes

#pragma endregion Includes

// ============================================================================
// Property Change Handlers
// ============================================================================
#pragma region Property Change Handlers

void HandleRaceChange(...) { ... }
void HandleBackgroundChange(...) { ... }

#pragma endregion Property Change Handlers

// ============================================================================
// Wrapper Functions
// ============================================================================
#pragma region Wrapper Functions

void HandleSelectedRaceWrapper(...) { ... }

#pragma endregion Wrapper Functions
```

### Exemplo 2: Data Table Header

```cpp
// ============================================================================
// Includes
// ============================================================================
#pragma region Includes

#include "CoreMinimal.h"
#include "Engine/DataTable.h"
#include "ClassDataTable.generated.h"

#pragma endregion Includes

// ============================================================================
// Skills Struct
// ============================================================================
#pragma region Skills Struct

USTRUCT(BlueprintType)
struct FSkills { ... };

#pragma endregion Skills Struct

// ============================================================================
// Class Data Struct
// ============================================================================
#pragma region Class Data Struct

USTRUCT(BlueprintType)
struct FClassData { ... };

#pragma endregion Class Data Struct
```

## üîÑ Quando Aplicar

**ALWAYS** aplicar este padr√£o quando:
- ‚úÖ Criar novos arquivos
- ‚úÖ Refatorar arquivos existentes
- ‚úÖ Reorganizar c√≥digo
- ‚úÖ Adicionar novas se√ß√µes grandes

**Pode pular** (mas ainda recomendado) quando:
- Arquivos muito pequenos (< 50 linhas)
- Arquivos tempor√°rios (mas lembre-se: n√£o deve ter arquivos tempor√°rios!)

---

**Lembre-se:** Consist√™ncia √© a chave. Todos os arquivos devem seguir o mesmo padr√£o para facilitar navega√ß√£o e manuten√ß√£o.
